{"version":3,"sources":["../../src/scripts/shops.js"],"names":["$checkboxes","$","on","onShopChange","showFirstShop","e","shopId","target","value","latitude","getAttribute","longitude","showShop","showMap","removeClass","addClass","$iframe","document","querySelector","src","setAttribute","$selectedShop","jQuery"],"mappings":";;AAAA,CAAC,YAAW;AACV,MAAIA,cAAcC,EAAE,oBAAF,CAAlB;;AAEAD,cAAYE,EAAZ,CAAe,QAAf,EAAyBC,YAAzB;;AAEAC;;AAEA,WAASD,YAAT,CAAsBE,CAAtB,EAAyB;AACvB,QAAMC,SAASD,EAAEE,MAAF,CAASC,KAAxB;AACA,QAAMC,WAAWJ,EAAEE,MAAF,CAASG,YAAT,CAAsB,eAAtB,CAAjB;AACA,QAAMC,YAAYN,EAAEE,MAAF,CAASG,YAAT,CAAsB,gBAAtB,CAAlB;AACAJ,cAAUM,SAASN,MAAT,CAAV;AACAO,YAAQJ,QAAR,EAAkBE,SAAlB;AACD;;AAED,WAASC,QAAT,CAAkBN,MAAlB,EAA0B;AACxB,QAAI,CAACA,MAAL,EAAa;AACX;AACD;AACDL,MAAE,0BAAF,EAA8Ba,WAA9B,CAA0C,yBAA1C;AACAb,MAAE,oBAAoBK,MAApB,GAA6B,IAA/B,EAAqCS,QAArC,CAA8C,yBAA9C;AACD;;AAED,WAASF,OAAT,CAAiBJ,QAAjB,EAA2BE,SAA3B,EAAsC;AACpC,QAAMK,UAAUC,SAASC,aAAT,CAAuB,aAAvB,CAAhB;AACA,QAAMC,0CAAwCV,QAAxC,SAAoDE,SAApD,kBAAN;AACAK,YAAQI,YAAR,CAAqB,KAArB,EAA4BD,GAA5B;AACD;;AAED,WAASf,aAAT,GAAyB;AACvB,QAAIiB,gBAAgBJ,SAASC,aAAT,CAAuB,4BAAvB,CAApB;AACA,QAAI,CAACG,aAAL,EAAoB;AAClBA,sBAAgBJ,SAASC,aAAT,CAAuB,oBAAvB,CAAhB;AACD;;AAED,QAAIG,aAAJ,EAAmB;AACjBT,eAASS,cAAcb,KAAvB;;AAEA,UAAMC,WAAWY,cAAcX,YAAd,CAA2B,eAA3B,CAAjB;AACA,UAAMC,YAAYU,cAAcX,YAAd,CAA2B,gBAA3B,CAAlB;AACAG,cAAQJ,QAAR,EAAkBE,SAAlB;AACD;AACF;AACF,CA3CD,EA2CGW,MA3CH","file":"shops.js","sourcesContent":["(function() {\n  var $checkboxes = $('.shops__item input');\n\n  $checkboxes.on('change', onShopChange);\n\n  showFirstShop();\n\n  function onShopChange(e) {\n    const shopId = e.target.value;\n    const latitude = e.target.getAttribute('data-latitude');\n    const longitude = e.target.getAttribute('data-longitude');\n    shopId && showShop(shopId);\n    showMap(latitude, longitude);\n  }\n\n  function showShop(shopId) {\n    if (!shopId) {\n      return;\n    }\n    $('.goods__section--visible').removeClass('goods__section--visible');\n    $('[data-shop-id=\"' + shopId + '\"]').addClass('goods__section--visible');\n  }\n  \n  function showMap(latitude, longitude) {\n    const $iframe = document.querySelector('.map iframe');\n    const src = `https://maps.google.com/maps?q=${latitude},${longitude}&output=embed`;\n    $iframe.setAttribute('src', src);\n  }\n\n  function showFirstShop() {\n    let $selectedShop = document.querySelector('.shops__item input:checked');\n    if (!$selectedShop) {\n      $selectedShop = document.querySelector('.shops__item input');\n    }\n\n    if ($selectedShop) {\n      showShop($selectedShop.value);\n\n      const latitude = $selectedShop.getAttribute('data-latitude');\n      const longitude = $selectedShop.getAttribute('data-longitude');\n      showMap(latitude, longitude);\n    }\n  }\n})(jQuery);\n"]}